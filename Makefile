BIN_DIR=./bin
BINARY_NAME=cve-2021-22205-hash-generator

binaries:
	go build -o ${BIN_DIR}/${BINARY_NAME} main.go

clean:
	go clean
	rm -f ${BIN_DIR}/${BINARY_NAME}*

init:
	go mod download
	go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest

lint:
	go vet
	golangci-lint run ./...

test:
	go test ./... -v \

build: clean init lint binaries